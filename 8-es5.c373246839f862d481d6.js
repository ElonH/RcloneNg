function asyncGeneratorStep(t,e,n,i,r,c,o){try{var a=t[c](o),s=a.value}catch(u){return void n(u)}a.done?e(s):Promise.resolve(s).then(i,r)}function _asyncToGenerator(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var c=t.apply(e,n);function o(t){asyncGeneratorStep(c,i,r,o,a,"next",t)}function a(t){asyncGeneratorStep(c,i,r,o,a,"throw",t)}o(void 0)}))}}function _wrapNativeSuper(t){var e="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(t){if(null===t||!_isNativeFunction(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return _construct(t,arguments,_getPrototypeOf(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(n,t)})(t)}function _construct(t,e,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&_setPrototypeOf(r,n.prototype),r}).apply(null,arguments)}function _isNativeFunction(t){return-1!==Function.toString.call(t).indexOf("[native code]")}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,r=!1,c=void 0;try{for(var o,a=t[Symbol.iterator]();!(i=(o=a.next()).done)&&(n.push(o.value),!e||n.length!==e);i=!0);}catch(s){r=!0,c=s}finally{try{i||null==a.return||a.return()}finally{if(r)throw c}}return n}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n,i=_getPrototypeOf(t);if(e){var r=_getPrototypeOf(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"8Zbc":function(t,e,n){"use strict";n.r(e),n.d(e,"ManagerModule",(function(){return pe}));var i=n("ofXK"),r=n("3Pt+"),c=n("aceb"),o=n("LPYB"),a=n("FTbq"),s=n("fXoL"),u=n("Iab2");n("tk/3");var l,f,d,p,h=((f=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"genType",value:function(t){if(!t||-1===t.lastIndexOf("."))return"text/plain";var e=t.substr(t.lastIndexOf(".")+1);switch(e){case"txt":return"text/plain";case"xml":case"html":return"text/".concat(e);case"json":return"octet/stream";default:return"application/".concat(e)}}},{key:"save",value:function(t,e,n,i){if(!t)throw new Error("Data argument should be a blob instance");var r=new Blob([t],{type:n||t.type||this.genType(e)});Object(u.saveAs)(r,decodeURI(e||"download"),i)}},{key:"saveText",value:function(t,e,n){var i=new Blob([t]);this.save(i,e,null,n)}},{key:"isFileSaverSupported",get:function(){try{return!!new Blob}catch(t){return!1}}}]),t}()).\u0275fac=function(t){return new(t||f)},f.\u0275prov=Object(s.Ub)({factory:function(){return new f},token:f,providedIn:"root"}),f),b=((l=function t(){_classCallCheck(this,t)}).\u0275mod=s.Wb({type:l}),l.\u0275inj=s.Vb({factory:function(t){return new(t||l)}}),l),v=n("V2v1"),m=n("G3Ii"),g=n("tyNb"),y=n("U5lE"),w=n("x0Mr"),_=n("XNiG"),k=n("/uUt"),C=n("lJxs"),O=n("zp1y"),S=n("GJmQ"),M=n("/ciQ"),I=n("JYL7"),x=n("mrSG"),j=n("7o/Q"),P=function(){function t(e){_classCallCheck(this,t),this.value=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new T(t,this.value))}}]),t}(),T=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,t)).value=i,r}return _createClass(n,[{key:"_next",value:function(t){this.destination.next(this.value)}}]),n}(j.a),D=n("mH7l"),A=n.n(D),E=n("SxV6"),$=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"add",value:function(e,n){if(!e||""===e)throw new Error("id shouln't be empty!");if(t.map.hasOwnProperty(e))throw new Error("id: '".concat(e,"' already exist"));t.map[e]=n}},{key:"find",value:function(e){return t.map[e]}}]),t}();return t.map={},t}(),R=n("L7Zs"),N=((p=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),i=e.call(this),$.add("mkdir",(function(e,n){var i=new(function(n){_inherits(r,n);var i=_createSuper(r);function r(){var n;return _classCallCheck(this,r),(n=i.apply(this,arguments)).prerequest$=t.listCmd$.verify(n.cmd).pipe(Object(C.a)((function(t){return[Object.assign(Object.assign({},t[0]),e[0]),[].concat(e[1],t[1])]}))),n}return r}(I.x));i.deploy(),i.getOutput().subscribe((function(t){return n.next(t)}))})),$.add("copyfile",(function(e,n){var i=new(function(n){_inherits(r,n);var i=_createSuper(r);function r(){var n;return _classCallCheck(this,r),(n=i.apply(this,arguments)).prerequest$=t.listCmd$.verify(n.cmd).pipe(Object(C.a)((function(t){return[Object.assign(Object.assign({},t[0]),e[0]),[].concat(e[1],t[1])]}))),n}return r}(I.t));i.deploy(),i.getOutput().subscribe((function(t){return n.next(t)}))})),$.add("movefile",(function(e,n){var i=new(function(n){_inherits(r,n);var i=_createSuper(r);function r(){var n;return _classCallCheck(this,r),(n=i.apply(this,arguments)).prerequest$=t.listCmd$.verify(n.cmd).pipe(Object(C.a)((function(t){return[Object.assign(Object.assign({},t[0]),e[0]),[].concat(e[1],t[1])]}))),n}return r}(I.y));i.deploy(),i.getOutput().subscribe((function(t){return n.next(t)}))})),$.add("delfile",(function(e,n){var i=new(function(n){_inherits(r,n);var i=_createSuper(r);function r(){var n;return _classCallCheck(this,r),(n=i.apply(this,arguments)).prerequest$=t.listCmd$.verify(n.cmd).pipe(Object(C.a)((function(t){return[Object.assign(Object.assign({},t[0]),e[0]),[].concat(e[1],t[1])]}))),n}return r}(I.u));i.deploy(),i.getOutput().subscribe((function(t){return n.next(t)}))})),$.add("synccopy",(function(e,n){var i=new(function(n){_inherits(r,n);var i=_createSuper(r);function r(){var n;return _classCallCheck(this,r),(n=i.apply(this,arguments)).prerequest$=t.listCmd$.verify(n.cmd).pipe(Object(C.a)((function(t){return[Object.assign(Object.assign({},t[0]),e[0]),[].concat(e[1],t[1])]}))),n}return r}(I.C));i.deploy(),i.getOutput().subscribe((function(t){return n.next(t)}))})),$.add("syncmove",(function(e,n){var i=new(function(n){_inherits(r,n);var i=_createSuper(r);function r(){var n;return _classCallCheck(this,r),(n=i.apply(this,arguments)).prerequest$=t.listCmd$.verify(n.cmd).pipe(Object(C.a)((function(t){return[Object.assign(Object.assign({},t[0]),e[0]),[].concat(e[1],t[1])]}))),n}return r}(I.D));i.deploy(),i.getOutput().subscribe((function(t){return n.next(t)}))})),$.add("purge",(function(e,n){var i=new(function(n){_inherits(r,n);var i=_createSuper(r);function r(){var n;return _classCallCheck(this,r),(n=i.apply(this,arguments)).prerequest$=t.listCmd$.verify(n.cmd).pipe(Object(C.a)((function(t){return[Object.assign(Object.assign({},t[0]),e[0]),[].concat(e[1],t[1])]}))),n}return r}(I.z));i.deploy(),i.getOutput().subscribe((function(t){return n.next(t)}))})),i}return _createClass(n,[{key:"AddTaskMkdir",value:function(t){return Object(x.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.AddTask({handler:"mkdir",params:t}));case 1:case"end":return e.stop()}}),e,this)})))}}]),n}(function(){function t(){var e=this;_classCallCheck(this,t),this.groupsQueue=[],this.packsQueue=[],this.tasksQueue=new A.a({concurrency:1}),this.tasksQueue.on("idle",(function(){return e.idleHandler()}))}return _createClass(t,[{key:"idleHandler",value:function(){if(0===this.tasksQueue.size){if(0===this.packsQueue.length&&this.groupsQueue.length>0){var t=this.groupsQueue.shift();this.BundleHandle.apply(this,_toConsumableArray(t))}if(this.packsQueue.length>0){var e=this.packsQueue.shift();this.BundleHandle.apply(this,_toConsumableArray(e))}}}},{key:"AddTask",value:function(t){return Object(x.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,i,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=new _.a,i="string"==typeof t.handler?$.find(t.handler):t.handler){e.next=3;break}throw new Error("handler id '".concat(t.handler,"' not registered in TaskHandlerManager"));case 3:return e.abrupt("return",this.tasksQueue.add((function(){return Object(x.a)(r,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(i(t.params,n),n.pipe(Object(E.a)()).toPromise()));case 1:case"end":return e.stop()}}),e)})))})));case 4:case"end":return e.stop()}}),e,this)})))}},{key:"BundleHandle",value:function(t,e){return Object(x.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var i,r,c,o,a,s=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("function"==typeof t){n.next=5;break}i=t.map((function(t){return Array.isArray(t)?s.AddPack(t):s.AddTask(t)})),Promise.all(i).then((function(t){e.next([t.map((function(t){return t[0]})),t.map((function(t){return t[1]})).reduce((function(t,e){var n;return(n=[]).concat.apply(n,_toConsumableArray(t).concat(_toConsumableArray(e)))}))])})),n.next=16;break;case 5:r=t(),c=r.next(),o=[];case 8:if(c.done){n.next=15;break}return n.next=11,Array.isArray(c)?this.AddPack(c.value):this.AddTask(c.value);case 11:a=n.sent,o.push(a),c=r.next(a);case 13:n.next=8;break;case 15:e.next([o.map((function(t){return t[0]})),o.map((function(t){return t[1]})).reduce((function(t,e){var n;return(n=[]).concat.apply(n,_toConsumableArray(t).concat(_toConsumableArray(e)))}))]);case 16:case"end":return n.stop()}}),n,this)})))}},{key:"AddPack",value:function(t){return Object(x.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new _.a,e.abrupt("return",(this.packsQueue.push([t,n]),this.idleHandler(),n.pipe(Object(E.a)()).toPromise()));case 2:case"end":return e.stop()}}),e,this)})))}},{key:"AddGroup",value:function(t){return Object(x.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new _.a,e.abrupt("return",(this.groupsQueue.push([t,n]),this.idleHandler(),n.pipe(Object(E.a)()).toPromise()));case 2:case"end":return e.stop()}}),e,this)})))}}]),t}())).\u0275fac=function(t){return new(t||p)(s.ic(R.a))},p.\u0275prov=s.Ub({token:p,factory:p.\u0275fac,providedIn:"root"}),p),V=((d=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;_classCallCheck(this,n),(i=e.call(this)).tasksQueueService=t,i.trigger=new _.a;var r=_assertThisInitialized(i);return i.clipboard$=new(function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i;return _classCallCheck(this,n),(t=e.apply(this,arguments)).prerequest$=r.trigger.pipe((i=[{clipboard:r},[]],function(t){return t.lift(new P(i))})),t}return n}(M.c)),i.clipboard$.deploy(),i.clipboard$.getOutput().subscribe(),i.trigger.next(1),i}return _createClass(n,[{key:"commit",value:function(){this.trigger.next(1)}},{key:"post",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return Object(x.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var i,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this.values.filter((function(t){return n.some((function(e){return e===t.oper}))})).map((function(e){var n=function(){return{srcFs:"".concat(e.srcRemote,":"),srcRemote:e.srcItem.Path,dstFs:"".concat(t.remote,":"),dstRemote:[t.path,e.srcItem.Name].join("/")}},i=function(){return{srcFs:"".concat(e.srcRemote,":").concat(e.srcItem.Path),dstFs:"".concat(t.remote,":").concat([t.path,e.srcItem.Name].join("/"))}},r="",c=[{},[]];return"copy"===e.oper?(r=e.srcItem.IsDir?"synccopy":"copyfile",c[0]=e.srcItem.IsDir?i():n()):"move"===e.oper?(r=e.srcItem.IsDir?"syncmove":"movefile",c[0]=e.srcItem.IsDir?i():n()):"del"===e.oper&&(r=e.srcItem.IsDir?"purge":"delfile",c[0]={srcFs:"".concat(e.srcRemote,":"),srcRemote:e.srcItem.Path}),{handler:r,params:c}})),r=this.tasksQueueService.AddPack(i),e.abrupt("return",(this.clear.apply(this,n),this.commit(),r));case 2:case"end":return e.stop()}}),e,this)})))}}]),n}(M.b)).\u0275fac=function(t){return new(t||d)(s.ic(N))},d.\u0275prov=s.Ub({token:d,factory:d.\u0275fac,providedIn:"root"}),d),z=["remotesTable"];function F(t,e){if(1&t&&(s.ec(0,"td"),s.Uc(1),s.dc(),s.ec(2,"td"),s.Uc(3),s.dc(),s.ec(4,"td"),s.ec(5,"button",2),s.Uc(6,"Detail"),s.dc(),s.dc()),2&t){var n=e.$implicit;s.Mb(1),s.Vc(n.srcRemote),s.Mb(2),s.Vc(n.srcItem.Path)}}var q,U=((q=function(){function t(e){_classCallCheck(this,t),this.service=e,this.columns=[{key:"srcRemote",title:"Remote",width:"10%"},{key:"srcItem.Path",title:"Path",width:"80%"},{key:"",title:"Action",width:"10%"}],this.data=[]}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.service.clipboard$.getOutput().subscribe((function(e){0===e[1].length&&(t.data=e[0].clipboard.values.filter((function(e){return e.oper===t.oper})))})),this.configuration=Object.assign({},a.c),this.configuration.detailsTemplate=!0,this.configuration.tableLayout.hover=!0}},{key:"toggleDatail",value:function(t,e){t.preventDefault(),this.table.apiEvent({type:a.a.toggleRowIndex,value:e})}}]),t}()).\u0275fac=function(t){return new(t||q)(s.Yb(V))},q.\u0275cmp=s.Sb({type:q,selectors:[["app-clipboard-remotes-table"]],viewQuery:function(t,e){var n;1&t&&s.Zc(z,!0),2&t&&s.Fc(n=s.nc())&&(e.table=n.first)},inputs:{oper:"oper"},decls:3,vars:4,consts:[[3,"configuration","data","id","columns"],["remotesTable",""],["nbButton",""]],template:function(t,e){1&t&&(s.ec(0,"ngx-table",0,1),s.Sc(2,F,7,2,"ng-template"),s.dc()),2&t&&s.wc("configuration",e.configuration)("data",e.data)("id","remotes-tab-"+e.oper)("columns",e.columns)},directives:[a.b,c.n],encapsulation:2}),q);function B(t,e){if(1&t){var n=s.fc();s.cc(0),s.ec(1,"div",7),s.ec(2,"button",8),s.mc("click",(function(){return s.Kc(n),s.oc(2).dialog.close(!0)})),s.Zb(3,"nb-icon",9),s.Uc(4," Confirm "),s.dc(),s.dc(),s.bc()}}function Z(t,e){if(1&t&&(s.ec(0,"nb-tab",4),s.Sc(1,B,5,0,"ng-container",5),s.Zb(2,"app-clipboard-remotes-table",6),s.dc()),2&t){var n=e.$implicit;s.wc("tabTitle",n.title)("tabIcon",n.icon)("badgeText",n.len),s.Mb(1),s.wc("ngIf","del"===n.oper),s.Mb(1),s.wc("oper",n.oper)}}var L,K,Q,Y=((K=function(){function t(e,n){_classCallCheck(this,t),this.service=e,this.dialog=n,this.data=[{oper:"copy",title:"Copy",icon:"copy",len:0},{oper:"move",title:"Move",icon:"move",len:0},{oper:"del",title:"Delete",icon:"trash-2",len:0}],this.context=n.context}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.service.clipboard$.getOutput().subscribe((function(e){0===e[1].length&&t.data.forEach((function(t){return t.len=e[0].clipboard.countManipulation(t.oper)}))}))}}]),t}()).\u0275fac=function(t){return new(t||K)(s.Yb(V),s.Yb(y.d))},K.\u0275cmp=s.Sb({type:K,selectors:[["app-manager-clipboard-dialog"]],decls:8,vars:1,consts:[[1,"dialog-card"],["icon","shopping-bag",1,"clipboard-icon"],["fullWidth",""],["badgeStatus","primary",3,"tabTitle","tabIcon","badgeText",4,"ngFor","ngForOf"],["badgeStatus","primary",3,"tabTitle","tabIcon","badgeText"],[4,"ngIf"],[3,"oper"],[2,"display","flex","justify-content","center"],["nbButton","","status","danger",3,"click"],["icon","alert-triangle"]],template:function(t,e){1&t&&(s.ec(0,"nb-card",0),s.ec(1,"nb-card-header"),s.ec(2,"nb-action"),s.Zb(3,"nb-icon",1),s.dc(),s.Uc(4," Clipboard "),s.dc(),s.ec(5,"nb-card-body"),s.ec(6,"nb-tabset",2),s.Sc(7,Z,3,5,"nb-tab",3),s.dc(),s.dc(),s.dc()),2&t&&(s.Mb(7),s.wc("ngForOf",e.data))},directives:[c.r,c.u,c.f,c.C,c.q,c.eb,i.n,c.db,i.o,U,c.n],styles:["nb-card-footer[_ngcontent-%COMP%], nb-card-header[_ngcontent-%COMP%] {\n\t\t\t\tdisplay: flex;\n\t\t\t}\n\t\t\t.dialog-card[_ngcontent-%COMP%] {\n\t\t\t\tmargin: calc(-1em - 3px);\n\t\t\t}\n\t\t\t[_nghost-%COMP%]   nb-tab[_ngcontent-%COMP%] {\n\t\t\t\tpadding: 0;\n\t\t\t}\n\t\t\t.clipboard-icon[_ngcontent-%COMP%] {\n\t\t\t\tfont-size: 1.5rem;\n\t\t\t\tmargin-right: 0.5rem;\n\t\t\t}"]}),K),H=((L=function t(e){_classCallCheck(this,t),this.dialog=e,this.context=e.context}).\u0275fac=function(t){return new(t||L)(s.Yb(y.d))},L.\u0275cmp=s.Sb({type:L,selectors:[["ng-component"]],decls:12,vars:0,consts:[["icon","info-outline","nbTooltip","support recursively create. (eg: a/b/c)",1,"push-to-right",2,"font-size","1.5rem"],["nbInput","","fullWidth",""],["newDir",""],["nbButton","","status","danger",3,"click"],["nbButton","","status","success",1,"push-to-right",3,"click"]],template:function(t,e){if(1&t){var n=s.fc();s.ec(0,"nb-card"),s.ec(1,"nb-card-header"),s.Uc(2," Create Directory "),s.Zb(3,"nb-icon",0),s.dc(),s.ec(4,"nb-card-body"),s.Zb(5,"input",1,2),s.dc(),s.ec(7,"nb-card-footer"),s.ec(8,"button",3),s.mc("click",(function(){return e.dialog.dismiss()})),s.Uc(9,"Close"),s.dc(),s.ec(10,"button",4),s.mc("click",(function(){s.Kc(n);var t=s.Gc(6);return e.dialog.close(t.value)})),s.Uc(11," Confirm "),s.dc(),s.dc(),s.dc()}},directives:[c.r,c.u,c.C,c.jb,c.q,c.F,c.s,c.n],styles:["nb-card[_ngcontent-%COMP%] {\n\t\t\t\tmargin: calc(-1em - 5px);\n\t\t\t}\n\t\t\tnb-card-header[_ngcontent-%COMP%], nb-card-footer[_ngcontent-%COMP%] {\n\t\t\t\tdisplay: flex;\n\t\t\t}\n\t\t\t.push-to-right[_ngcontent-%COMP%] {\n\t\t\t\tmargin-left: auto;\n\t\t\t}"]}),L),G=n("itXk"),J=n("NzlE"),W=n("Jmhc"),X=((Q=function(){function t(e,n,i,r){var c=this;_classCallCheck(this,t),this.cmdService=e,this.toastr=n,this.fileSaverService=i,this.serverSettingService=r,this.trigger=new _.a;var o=this;this.download$=new(function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.apply(this,arguments)).prerequest$=o.trigger.pipe(Object(O.a)(o.cmdService.connection$.getOutput(),o.serverSettingService.options$.getOutput()),Object(C.a)((function(t){var e=_slicedToArray(t,3),n=e[0],i=e[1],r=e[2];return 0!==r[1].length?[{},r[1]]:Object(I.q)(r[0].options,"rc","Serve")?[Object.assign(Object.assign({},i[0]),n),i[1]]:[{},[new Error("rc-serve is closed. (Tip: Set server option: rc.Serve as true)")]]}))),t}return n}(I.h)),this.download$.deploy(),this.download$.getSupersetOutput().subscribe((function(t){0===t[1].length?c.fileSaverService.save(t[0].ajaxRsp.response,t[0].Name):c.toastr.danger("".concat(t[0].remote,":").concat(t[0].Path),"File download failure.")}))}return _createClass(t,[{key:"post",value:function(t){this.trigger.next(t),this.toastr.default(t.Name,"Downloading ...")}}]),t}()).\u0275fac=function(t){return new(t||Q)(s.ic(R.a),s.ic(c.ib),s.ic(h),s.ic(W.a))},Q.\u0275prov=s.Ub({token:Q,factory:Q.\u0275fac,providedIn:"root"}),Q),tt=["EnableServe"];function et(t,e){if(1&t){var n=s.fc();s.ec(0,"button",6),s.mc("click",(function(){return s.Kc(n),s.oc(2).download()})),s.Uc(1,"download"),s.dc()}}function nt(t,e){if(1&t&&s.Zb(0,"app-rng-space-usage-chart",7),2&t){var n=s.oc(2);s.wc("loading",n.loadingAbout)}}function it(t,e){if(1&t&&(s.ec(0,"div",2),s.Zb(1,"img",3),s.ec(2,"h5"),s.Uc(3),s.dc(),s.Sc(4,et,2,0,"button",4),s.Sc(5,nt,1,1,"app-rng-space-usage-chart",5),s.dc()),2&t){var n=s.oc();s.Mb(1),s.wc("src","assets/icons/"+n.typeIcon,s.Nc),s.Mb(2),s.Vc(n.name),s.Mb(1),s.wc("ngIf",!n.isDir),s.Mb(1),s.wc("ngIf",n.isDir)}}function rt(t,e){1&t&&(s.ec(0,"div",8),s.ec(1,"h3"),s.Uc(2,'Are you want to enable "rc.Serve"?'),s.dc(),s.ec(3,"span",9),s.Uc(4,' Download featrue needs to enable server option "rc.Serve". '),s.dc(),s.ec(5,"p",10),s.Uc(6,' Nb: You can manually close it in "server setting" page after download completed. '),s.dc(),s.dc(),s.ec(7,"div",11),s.ec(8,"button",12),s.mc("click",(function(){return e.dialogRef.close(!0)})),s.Uc(9," OK "),s.dc(),s.ec(10,"button",13),s.mc("click",(function(){return e.dialogRef.close(!1)})),s.Uc(11," Cancel "),s.dc(),s.dc())}var ct,ot=((ct=function(){function t(e,n,i,r,c){_classCallCheck(this,t),this.downloadService=e,this.serverSettingService=n,this.modal=i,this.toastrService=r,this.cmdService=c,this.currentDirDetail=!0,this.remote="",this.path="",this.name="",this.isDir=!0,this.typeIcon="",this.downloadTrigger=new _.a,this.aboutTrigger=new _.a,this.loadingAbout=!1}return _createClass(t,[{key:"itemNode",value:function(t){this.remote=t.remote||"",this.path=t.Path||"",this.name=t.Name||"",this.isDir=t.IsDir,this.typeIcon=t.TypeIcon,""!==this.remote&&""!==this.path&&""!==this.name&&(this.currentDirDetail=!1),!this.currentDirDetail&&this.isDir&&(this.loadingAbout=!0,this.aboutTrigger.next({remote:this.remote,path:this.path}))}},{key:"download",value:function(){this.downloadTrigger.next(1)}},{key:"realDownload",value:function(){this.downloadService.post({remote:this.remote,Path:this.path,Name:this.name})}},{key:"ngOnInit",value:function(){var t=this,e=this;this.loadingAbout=!0;var n=new(function(t){_inherits(i,t);var n=_createSuper(i);function i(){var t;return _classCallCheck(this,i),(t=n.apply(this,arguments)).prerequest$=Object(G.a)([e.aboutTrigger,e.cmdService.listCmd$.verify(t.cmd)]).pipe(Object(C.a)((function(t){var e=_slicedToArray(t,2),n=e[0],i=e[1];return 0!==i[1].length?[{},i[1]]:[Object.assign(Object.assign({},i[0]),n),[]]}))),t}return i}(I.v));n.deploy(),n.getOutput().subscribe((function(t){})),this.about$=new(function(t){_inherits(i,t);var e=_createSuper(i);function i(){var t;return _classCallCheck(this,i),(t=e.apply(this,arguments)).prerequest$=n.getSupersetOutput(),t}return i}(I.s)),this.about$.deploy(),this.about$.getOutput().subscribe((function(e){t.loadingAbout=!1,0===e[1].length&&(t.chart.data=e[0].about)})),this.downloadTrigger.pipe(Object(O.a)(this.serverSettingService.options$.getOutput())).subscribe((function(e){var n=_slicedToArray(e,2)[1];Object(I.q)(n[0].options,"rc","Serve")?t.modal.confirm().className("flat-attack").message("Are you sure want to download ".concat(t.name," ?")).isBlocking(!1).open().result.then((function(e){e&&t.realDownload()}),(function(){})):t.modal.open(t.EnableServe,Object(y.m)({isBlocking:!1,className:"flat-attack"},w.b)).result.then((function(e){e&&(t.serverSettingService.setOption({rc:{Serve:!0}}),t.toastrService.default("Download","Try to download again."))}),(function(){}))})),this.initNode&&setTimeout((function(){t.itemNode(t.initNode)}),100)}}]),t}()).\u0275fac=function(t){return new(t||ct)(s.Yb(X),s.Yb(W.a),s.Yb(w.a),s.Yb(c.ib),s.Yb(R.a))},ct.\u0275cmp=s.Sb({type:ct,selectors:[["app-file-file-detail"]],viewQuery:function(t,e){var n;1&t&&(s.Zc(tt,!0),s.Zc(J.a,!0)),2&t&&(s.Fc(n=s.nc())&&(e.EnableServe=n.first),s.Fc(n=s.nc())&&(e.chart=n.first))},inputs:{initNode:"initNode"},decls:3,vars:1,consts:[["class","detail",4,"ngIf"],["EnableServe",""],[1,"detail"],[3,"src"],["nbButton","",3,"click",4,"ngIf"],[3,"loading",4,"ngIf"],["nbButton","",3,"click"],[3,"loading"],[1,"vex-dialog-message"],[2,"padding","1rem 0.5rem"],[2,"text-indent","1rem"],[1,"vex-dialog-buttons"],["type","button",1,"vex-dialog-button","vex-dialog-button-primary","vex-first",3,"click"],["type","button",1,"vex-dialog-button","vex-dialog-button-secondary","vex-last",3,"click"]],template:function(t,e){1&t&&(s.Sc(0,it,6,4,"div",0),s.Sc(1,rt,12,0,"ng-template",null,1,s.Tc)),2&t&&s.wc("ngIf",!e.currentDirDetail)},directives:[i.o,c.n,J.a],styles:["div.detail[_ngcontent-%COMP%] {\n\t\t\t\tpadding: 0 1.25rem;\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t}\n\t\t\timg[_ngcontent-%COMP%] {\n\t\t\t\twidth: 8rem;\n\t\t\t\tmargin: 0 auto;\n\t\t\t}\n\t\t\th5[_ngcontent-%COMP%] {\n\t\t\t\toverflow-wrap: break-word;\n\t\t\t}\n\t\t\t.vex-dialog-message[_ngcontent-%COMP%] {\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t}"]}),ct),at=n("pLZG"),st=["table"];function ut(t,e){if(1&t){var n=s.fc();s.ec(0,"nb-checkbox",3),s.mc("indeterminateChange",(function(t){return s.Kc(n),s.oc().checAllInteral=t}))("checkedChange",(function(t){return s.Kc(n),s.oc().checkAll=t}))("checkedChange",(function(t){return s.Kc(n),s.oc().onToggleAll(t)})),s.dc()}if(2&t){var i=s.oc();s.wc("indeterminate",i.checAllInteral)("checked",i.checkAll)}}function lt(t,e){if(1&t&&s.Zb(0,"nb-icon",11),2&t){var n=s.oc().$implicit;s.wc("icon",n.ManipulateIcon)}}function ft(t,e){if(1&t){var n=s.fc();s.ec(0,"td",4),s.mc("dblclick",(function(t){return s.Kc(n),t.stopPropagation()}))("click",(function(t){s.Kc(n);var i=e.$implicit,r=s.oc();return r.toggle(i),r.stopEvent(t)})),s.ec(1,"nb-checkbox",5),s.mc("checkedChange",(function(t){return s.Kc(n),e.$implicit.check=t}))("checkedChange",(function(){return s.Kc(n),s.oc().onToggle()})),s.dc(),s.dc(),s.ec(2,"td",6),s.mc("click",(function(t){s.Kc(n);var i=e.$implicit,r=s.oc();return r.toggle(i),r.stopEvent(t)}))("dblclick",(function(t){return s.Kc(n),s.oc().stopEvent(t)})),s.Sc(3,lt,1,1,"nb-icon",7),s.dc(),s.ec(4,"td",8),s.Zb(5,"img",9),s.dc(),s.ec(6,"td",10),s.Uc(7),s.dc(),s.ec(8,"td",10),s.Uc(9),s.dc(),s.ec(10,"td",10),s.Uc(11),s.dc(),s.ec(12,"td",10),s.Uc(13),s.dc()}if(2&t){var i=e.$implicit;s.Mb(1),s.wc("checked",i.check),s.Mb(2),s.wc("ngIf",i.ManipulateIcon),s.Mb(2),s.wc("src","assets/icons/"+i.TypeIcon,s.Nc),s.Mb(2),s.Vc(i.Name),s.Mb(2),s.Vc(i.SizeHumanReadable),s.Mb(2),s.Vc(i.ModTimeHumanReadable),s.Mb(2),s.Vc(i.MimeType)}}var dt,pt,ht=((pt=function(){function t(e){_classCallCheck(this,t),this.clipboardService=e,this.columns=[{key:"manipulation",title:"",width:"3%",searchEnabled:!1,orderEnabled:!1},{key:"TypeIcon",title:"",width:"3%",searchEnabled:!1},{key:"Name",title:"Name",width:"50%"},{key:"Size",title:"Size",width:"10%"},{key:"ModTimeMoment",title:"Modified Time",width:"17%"},{key:"MimeType",title:"MIME Type",width:"17%"}],this.checkAll=!1,this.checAllInteral=!1,this.jump=new s.r,this.showDetail=new s.r}return _createClass(t,[{key:"loading",value:function(){this.configuration.isLoading=!0,this.checkAll=!1,this.table.apiEvent({type:a.a.setPaginationCurrentPage,value:1})}},{key:"eventEmitted",value:function(t){if("onDoubleClick"===t.event){var e=t.value.row;e.IsDir&&(this.jump.emit({remote:this.remote,path:e.Path}),this.loading())}else"onClick"===t.event&&this.pcDetailViewEnable?this.showDetail.emit(t.value.row):"onRowContextMenu"!==t.event||this.pcDetailViewEnable||this.showDetail.emit(t.value.row)}},{key:"onToggleAll",value:function(t){this.data.forEach((function(e){return e.check=t})),this.checAllInteral=!1}},{key:"onToggle",value:function(){var t=this.data.map((function(t){return+!!t.check})).reduce((function(t,e){return t+e}));t===this.data.length?(this.checkAll=!0,this.checAllInteral=!1):0===t?(this.checkAll=!1,this.checAllInteral=!1):(this.checkAll=!1,this.checAllInteral=!0)}},{key:"toggle",value:function(t){t.check=!t.check,this.onToggle()}},{key:"manipulate",value:function(t){var e=this;this.data.forEach((function(n){n.check&&(e.clipboardService.add(t,e.remote,n),n.check=!1,n.ManipulateIcon=Object(M.e)(t))})),this.onToggle()}},{key:"ngOnInit",value:function(){var t=this;this.configuration=Object.assign({},a.c),this.configuration.searchEnabled=!0,this.configuration.checkboxes=!0,this.configuration.isLoading=!0,this.configuration.showContextMenu=!0,this.listScrb=this.listExtends$.getOutput().subscribe((function(e){t.checkAll=!1,t.configuration.isLoading=!1,0===e[1].length?(t.remote=e[0].remote,t.data=e[0].list,t.data.forEach((function(t){t.check=!1,t.ManipulateIcon=Object(M.e)(t.Manipulation)}))):t.data=void 0}))}},{key:"ngOnDestroy",value:function(){this.listScrb.unsubscribe(),this.loading()}},{key:"stopEvent",value:function(t){t.stopPropagation(),t.preventDefault()}}]),t}()).\u0275fac=function(t){return new(t||pt)(s.Yb(V))},pt.\u0275cmp=s.Sb({type:pt,selectors:[["app-manager-list-view"]],viewQuery:function(t,e){var n;1&t&&s.Zc(st,!0),2&t&&s.Fc(n=s.nc())&&(e.table=n.first)},inputs:{listExtends$:"listExtends$",pcDetailViewEnable:"pcDetailViewEnable"},outputs:{jump:"jump",showDetail:"showDetail"},decls:5,vars:4,consts:[["secAll",""],[3,"configuration","data","columns","selectAllTemplate","event"],["table",""],[3,"indeterminate","checked","indeterminateChange","checkedChange"],[3,"dblclick","click"],[3,"checked","checkedChange"],[3,"click","dblclick"],["class","manipulation","status","info",3,"icon",4,"ngIf"],[1,"rng-noselect",2,"padding","0"],[3,"src"],[1,"rng-noselect"],["status","info",1,"manipulation",3,"icon"]],template:function(t,e){if(1&t&&(s.Sc(0,ut,1,2,"ng-template",null,0,s.Tc),s.ec(2,"ngx-table",1,2),s.mc("event",(function(t){return e.eventEmitted(t)})),s.Sc(4,ft,14,7,"ng-template"),s.dc()),2&t){var n=s.Gc(1);s.Mb(2),s.wc("configuration",e.configuration)("data",e.data)("columns",e.columns)("selectAllTemplate",n)}},directives:[a.b,c.w,i.o,c.C],styles:["nb-icon.manipulation[_ngcontent-%COMP%] {\n\t\t\t\t\n\t\t\t\tfont-size: 0.625rem;\n\t\t\t\theight: 0.75rem;\n\t\t\t\twidth: 0.75rem;\n\t\t\t\tmargin-top: -0.125rem;\n\t\t\t\tmargin-bottom: -0.125rem;\n\t\t\t}"]}),pt),bt=((dt=function(){function t(e,n){_classCallCheck(this,t),this.connectService=e,this.clipboard=n,this.jump=new s.r,this.showDetail=new s.r,this.listTrigger=new _.a}return _createClass(t,[{key:"loading",value:function(){this.listView.loading()}},{key:"refresh",value:function(){this.loading(),this.list$.clearCache(),this.listTrigger.next(1)}},{key:"manipulate",value:function(t){this.listView.manipulate(t),this.clipboard.commit()}},{key:"ngOnInit",value:function(){var t=this;this.list$=new(function(e){_inherits(i,e);var n=_createSuper(i);function i(){var e;return _classCallCheck(this,i),(e=n.apply(this,arguments)).prerequest$=Object(G.a)([t.listTrigger,t.nav$.getOutput(),t.connectService.listCmd$.verify(e.cmd)]).pipe(Object(C.a)((function(t){var e=_slicedToArray(t,3),n=e[1],i=e[2];return 0!==n[1].length||0!==i[1].length?[{},[].concat(n[1],i[1])]:[Object.assign(Object.assign({},n[0]),i[0]),[]]})),Object(at.a)((function(t){return 0!==t[1].length||!!t[0].remote}))),e}return i}(I.w)),this.list$.deploy(),this.listExtends$=new(function(e){_inherits(i,e);var n=_createSuper(i);function i(){var e;return _classCallCheck(this,i),(e=n.apply(this,arguments)).prerequest$=Object(G.a)([t.list$.getSupersetOutput(),t.clipboard.clipboard$.getOutput()]).pipe(Object(C.a)((function(t){var e=_slicedToArray(t,2),n=e[0],i=e[1];return[Object.assign(Object.assign({},n[0]),i[0]),[].concat(n[1],i[1])]}))),e}return i}(M.f)),this.listExtends$.deploy(),this.listTrigger.next(1)}}]),t}()).\u0275fac=function(t){return new(t||dt)(s.Yb(R.a),s.Yb(V))},dt.\u0275cmp=s.Sb({type:dt,selectors:[["app-manager-file-mode"]],viewQuery:function(t,e){var n;1&t&&s.Zc(ht,!0),2&t&&s.Fc(n=s.nc())&&(e.listView=n.first)},inputs:{nav$:"nav$",pcDetailViewEnable:"pcDetailViewEnable"},outputs:{jump:"jump",showDetail:"showDetail"},decls:1,vars:2,consts:[[3,"listExtends$","pcDetailViewEnable","jump","showDetail"]],template:function(t,e){1&t&&(s.ec(0,"app-manager-list-view",0),s.mc("jump",(function(t){return e.jump.emit(t)}))("showDetail",(function(t){return e.showDetail.emit(t)})),s.dc()),2&t&&s.wc("listExtends$",e.listExtends$)("pcDetailViewEnable",e.pcDetailViewEnable)},directives:[ht],encapsulation:2}),dt);function vt(t,e){if(1&t&&(s.cc(0),s.ec(1,"tr"),s.ec(2,"td"),s.ec(3,"p"),s.Uc(4),s.dc(),s.dc(),s.dc(),s.ec(5,"tr"),s.ec(6,"td",6),s.Zb(7,"nb-progress-bar",7),s.dc(),s.dc(),s.bc()),2&t){var n=s.oc();s.Mb(4),s.Vc(123),s.Mb(3),s.wc("value",n.value)("displayValue",!0)}}var mt,gt=((mt=function(){function t(){_classCallCheck(this,t),this.title="unknow",this.subtitle="",this.value=0,this.easyMode=!1}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||mt)},mt.\u0275cmp=s.Sb({type:mt,selectors:[["app-home-view-remote"]],inputs:{title:"title",subtitle:"subtitle",value:"value",easyMode:"easyMode"},decls:8,vars:3,consts:[[1,"grid-container"],["rowspan","2",2,"padding-right","1rem"],["icon","hard-drive"],[2,"width","100%"],[1,"rng-noselect"],[4,"ngIf"],["colspan","2"],["size","tiny",3,"value","displayValue"]],template:function(t,e){1&t&&(s.ec(0,"table",0),s.ec(1,"tr"),s.ec(2,"td",1),s.Zb(3,"nb-icon",2),s.dc(),s.ec(4,"td",3),s.ec(5,"p",4),s.Uc(6),s.dc(),s.dc(),s.dc(),s.Sc(7,vt,8,3,"ng-container",5),s.dc()),2&t&&(s.Mb(4),s.Nb("rowspan",e.easyMode?2:1),s.Mb(2),s.Vc(e.title),s.Mb(1),s.wc("ngIf",!e.easyMode))},directives:[c.C,i.o,c.T],styles:[".grid-container[_ngcontent-%COMP%] {\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 4rem;\n\t\t\t\tcursor: pointer;\n\t\t\t\t\n\t\t\t}\n\t\t\ttd[_ngcontent-%COMP%]    > p[_ngcontent-%COMP%] {\n\t\t\t\tmargin-bottom: 0;\n\t\t\t}"]}),mt);function yt(t,e){if(1&t){var n=s.fc();s.ec(0,"app-home-view-remote",5),s.mc("click",(function(){s.Kc(n);var t=s.oc().$implicit;return s.oc().showDetail.emit({remote:t})}))("dblclick",(function(){s.Kc(n);var t=s.oc().$implicit;return s.oc().jump.emit({remote:t})})),s.dc()}if(2&t){var i=s.oc().$implicit;s.wc("easyMode",!0)("title",i)}}function wt(t,e){if(1&t){var n=s.fc();s.ec(0,"app-home-view-remote",6),s.mc("contextmenu",(function(t){s.Kc(n);var e=s.oc().$implicit;return s.oc().showDetail.emit({remote:e}),t.preventDefault(),t.stopPropagation()}))("dblclick",(function(){s.Kc(n);var t=s.oc().$implicit;return s.oc().jump.emit({remote:t})})),s.dc()}if(2&t){var i=s.oc().$implicit;s.wc("easyMode",!0)("title",i)}}var _t=function(t,e){return{"cloud col-sm-6":!0,"col-xl-3 col-md-4":t,"col-lg-4 col-md-6":e}},kt=function(){return["xs"]};function Ct(t,e){if(1&t&&(s.ec(0,"div",2),s.Sc(1,yt,1,2,"app-home-view-remote",3),s.Sc(2,wt,1,2,"app-home-view-remote",4),s.dc()),2&t){var n=s.oc();s.wc("ngClass",s.Bc(3,_t,!n.pcDetailView,n.pcDetailView)),s.Mb(1),s.wc("hideItBootstrap",s.zc(6,kt)),s.Mb(1),s.wc("showItBootstrap",s.zc(7,kt))}}var Ot,St=((Ot=function(){function t(e){_classCallCheck(this,t),this.cmdService=e,this.remotes=[],this.jump=new s.r,this.showDetail=new s.r,this.remotesTrigger=new _.a,this.isLoading=!0}return _createClass(t,[{key:"loading",value:function(){this.isLoading=!0}},{key:"refresh",value:function(){this.loading(),this.remotes$.clearCache(),this.remotesTrigger.next(1)}},{key:"ngOnInit",value:function(){var t=this;this.loading();var e=this;this.remotes$=new(function(t){_inherits(i,t);var n=_createSuper(i);function i(){var t;return _classCallCheck(this,i),(t=n.apply(this,arguments)).prerequest$=Object(G.a)([e.remotesTrigger,e.cmdService.listCmd$.verify(t.cmd)]).pipe(Object(C.a)((function(t){return _slicedToArray(t,2)[1]}))),t}return i}(I.l)),this.remotes$.deploy(),this.remotesTrigger.next(1),this.remotes$.getOutput().subscribe((function(e){t.isLoading=!1,0===e[1].length&&(t.remotes=e[0].remotes)}))}}]),t}()).\u0275fac=function(t){return new(t||Ot)(s.Yb(R.a))},Ot.\u0275cmp=s.Sb({type:Ot,selectors:[["app-manager-home-mode"]],inputs:{pcDetailView:"pcDetailView"},outputs:{jump:"jump",showDetail:"showDetail"},decls:2,vars:2,consts:[["nbSpinnerSize","giant","nbSpinnerStatus","primary","nbSpinnerMessage","Loading...",1,"row","justify-content-start",3,"nbSpinner"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[3,"easyMode","title","click","dblclick",4,"hideItBootstrap"],[3,"easyMode","title","contextmenu","dblclick",4,"showItBootstrap"],[3,"easyMode","title","click","dblclick"],[3,"easyMode","title","contextmenu","dblclick"]],template:function(t,e){1&t&&(s.ec(0,"div",0),s.Sc(1,Ct,3,8,"div",1),s.dc()),2&t&&(s.wc("nbSpinner",e.isLoading),s.Mb(1),s.wc("ngForOf",e.remotes))},directives:[c.ab,i.n,i.l,v.a,v.e,gt],styles:[".cloud[_ngcontent-%COMP%]{border-radius:.25rem}.cloud[_ngcontent-%COMP%]:hover{background-color:rgba(89,139,255,.53)}"]}),Ot);function Mt(t,e){if(1&t&&(s.ec(0,"nb-list-item"),s.Zb(1,"nb-icon",4),s.ec(2,"div"),s.Uc(3),s.dc(),s.dc()),2&t){var n=e.$implicit;s.Mb(1),s.wc("icon",n.v?"checkmark-circle":"close-circle-outline")("status",n.v?"success":"danger"),s.Mb(2),s.Vc(n.k)}}function It(t,e){if(1&t&&(s.ec(0,"nb-accordion-item"),s.ec(1,"nb-accordion-item-header"),s.Uc(2,"Feature"),s.dc(),s.ec(3,"nb-accordion-item-body"),s.ec(4,"nb-list",2),s.Sc(5,Mt,4,3,"nb-list-item",3),s.dc(),s.dc(),s.dc()),2&t){var n=s.oc();s.Mb(4),s.wc("nbSpinner",n.loadingFsinfo),s.Mb(1),s.wc("ngForOf",n.feature)}}function xt(t,e){if(1&t&&(s.ec(0,"nb-list-item"),s.ec(1,"div"),s.Uc(2),s.dc(),s.dc()),2&t){var n=e.$implicit;s.Mb(2),s.Vc(n)}}function jt(t,e){if(1&t&&(s.ec(0,"nb-accordion-item"),s.ec(1,"nb-accordion-item-header"),s.Uc(2,"Hash Support"),s.dc(),s.ec(3,"nb-accordion-item-body"),s.ec(4,"nb-list",2),s.Sc(5,xt,3,1,"nb-list-item",3),s.dc(),s.dc(),s.dc()),2&t){var n=s.oc();s.Mb(4),s.wc("nbSpinner",n.loadingFsinfo),s.Mb(1),s.wc("ngForOf",n.hashes)}}var Pt,Tt=((Pt=function(){function t(e){_classCallCheck(this,t),this.cmdService=e,this.remote="",this.loadingFsinfo=!1,this.loadingAbout=!1,this.feature=[],this.hashes=[],this.trigger=new _.a}return _createClass(t,[{key:"navNode",value:function(t){this.remote=t.remote||"",this.loadingFsinfo=!0,this.loadingAbout=!0,this.trigger.next(t.remote)}},{key:"ngOnInit",value:function(){var t=this,e=this;this.loadingFsinfo=!1,this.loadingAbout=!1,this.fsinfo$=new(function(t){_inherits(i,t);var n=_createSuper(i);function i(){var t;return _classCallCheck(this,i),(t=n.apply(this,arguments)).prerequest$=Object(G.a)([e.trigger,e.cmdService.listCmd$.verify(t.cmd)]).pipe(Object(C.a)((function(t){var e=_slicedToArray(t,2),n=e[0],i=e[1];return 0!==i[1].length?[{},i[1]]:[Object.assign(Object.assign({},i[0]),{remote:n}),[]]}))),t}return i}(I.v)),this.fsinfo$.deploy(),this.fsinfo$.getOutput().subscribe((function(e){if(t.loadingFsinfo=!1,0===e[1].length){var n=e[0]["fs-info"];t.feature=Object.keys(n.Features).map((function(t){return{k:t,v:n.Features[t]}})),t.hashes=n.Hashes}})),this.about$=new(function(t){_inherits(i,t);var n=_createSuper(i);function i(){var t;return _classCallCheck(this,i),(t=n.apply(this,arguments)).prerequest$=e.fsinfo$.getSupersetOutput(),t}return i}(I.s)),this.about$.deploy(),this.about$.getOutput().subscribe((function(e){t.loadingAbout=!1,0===e[1].length&&(t.chart.data=e[0].about)})),this.initNode&&setTimeout((function(){t.navNode(t.initNode)}),100)}}]),t}()).\u0275fac=function(t){return new(t||Pt)(s.Yb(R.a))},Pt.\u0275cmp=s.Sb({type:Pt,selectors:[["app-home-remote-detail"]],viewQuery:function(t,e){var n;1&t&&s.Zc(J.a,!0),2&t&&s.Fc(n=s.nc())&&(e.chart=n.first)},inputs:{initNode:"initNode"},decls:6,vars:4,consts:[[3,"loading"],[4,"ngIf"],["nbSpinnerSize","giant","nbSpinnerStatus","primary",3,"nbSpinner"],[4,"ngFor","ngForOf"],[3,"icon","status"]],template:function(t,e){1&t&&(s.ec(0,"h5"),s.Uc(1),s.dc(),s.Zb(2,"app-rng-space-usage-chart",0),s.ec(3,"nb-accordion"),s.Sc(4,It,6,2,"nb-accordion-item",1),s.Sc(5,jt,6,2,"nb-accordion-item",1),s.dc()),2&t&&(s.Mb(1),s.Vc(e.remote),s.Mb(1),s.wc("loading",e.loadingAbout),s.Mb(2),s.wc("ngIf",e.feature.length),s.Mb(1),s.wc("ngIf",e.hashes.length))},directives:[J.a,c.a,i.o,c.c,c.d,c.b,c.M,c.ab,i.n,c.N,c.C],styles:["h5[_ngcontent-%COMP%] {\n\t\t\t\tpadding: 0 1.25rem;\n\t\t\t}\n\t\t\tnb-list[_ngcontent-%COMP%] {\n\t\t\t\tmargin: 0 -0.5rem;\n\t\t\t}\n\t\t\tnb-list-item[_ngcontent-%COMP%] {\n\t\t\t\tpadding: 0.5rem 0;\n\t\t\t}\n\t\t\tnb-list-item[_ngcontent-%COMP%]    > nb-icon[_ngcontent-%COMP%] {\n\t\t\t\twidth: 1rem;\n\t\t\t\theight: 1rem;\n\t\t\t}\n\t\t\tnb-list-item[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%] {\n\t\t\t\tpadding-left: 0.5rem;\n\t\t\t}"]}),Pt);function Dt(t,e){if(1&t){var n=s.fc();s.ec(0,"a",9),s.mc("click",(function(){return s.Kc(n),s.oc(2).jump.emit({})})),s.Zb(1,"nb-icon",10),s.dc()}}function At(t,e){1&t&&s.Zb(0,"nb-icon",10)}function Et(t,e){if(1&t){var n=s.fc();s.ec(0,"a",9),s.mc("click",(function(){s.Kc(n);var t=s.oc(3);return t.jump.emit(t.genAddr(-1))})),s.Zb(1,"nb-icon",13),s.Uc(2),s.dc()}if(2&t){var i=s.oc(3);s.Mb(2),s.Wc(" ",i.remote," ")}}function $t(t,e){if(1&t&&(s.ec(0,"div",14),s.Zb(1,"nb-icon",13),s.Uc(2),s.dc()),2&t){var n=s.oc(3);s.Mb(2),s.Wc(" ",n.remote," ")}}var Rt=function(t){return{"breadcrumb-item":!0,active:t}};function Nt(t,e){if(1&t&&(s.ec(0,"li",11),s.Sc(1,Et,3,1,"a",4),s.Sc(2,$t,3,1,"div",12),s.dc()),2&t){var n=s.oc(2);s.wc("ngClass",s.Ac(3,Rt,!n.path)),s.Mb(1),s.wc("ngIf",n.path),s.Mb(1),s.wc("ngIf",!n.path)}}function Vt(t,e){if(1&t){var n=s.fc();s.ec(0,"li",15),s.ec(1,"a",9),s.mc("click",(function(){s.Kc(n);var t=e.index,i=s.oc(2);return i.jump.emit(i.genAddr(t))})),s.Uc(2),s.dc(),s.dc()}if(2&t){var i=e.$implicit;s.Mb(2),s.Wc(" ",i," ")}}function zt(t,e){if(1&t&&(s.ec(0,"li",15),s.ec(1,"span",16),s.Uc(2),s.dc(),s.dc()),2&t){var n=s.oc(2);s.Mb(2),s.Vc(n.pathSurfix)}}function Ft(t,e){if(1&t){var n=s.fc();s.ec(0,"ol",2),s.mc("click",(function(){return s.Kc(n),s.oc().editTip()}))("dblclick",(function(){s.Kc(n);var t=s.oc();return t.editMode=!t.editMode})),s.ec(1,"li",3),s.Sc(2,Dt,2,0,"a",4),s.Sc(3,At,1,0,"nb-icon",5),s.dc(),s.Sc(4,Nt,3,5,"li",6),s.Sc(5,Vt,3,1,"li",7),s.Sc(6,zt,3,1,"li",8),s.dc()}if(2&t){var i=s.oc();s.Mb(2),s.wc("ngIf",i.remote),s.Mb(1),s.wc("ngIf",!i.remote),s.Mb(1),s.wc("ngIf",i.remote),s.Mb(1),s.wc("ngForOf",i.pathPrefix),s.Mb(1),s.wc("ngIf",i.pathSurfix)}}function qt(t,e){if(1&t){var n=s.fc();s.ec(0,"input",17),s.mc("dblclick",(function(){s.Kc(n);var t=s.oc();return t.editMode=!t.editMode}))("ngModelChange",(function(t){return s.Kc(n),s.oc().fullPath=t}))("keyup.enter",(function(){return s.Kc(n),s.oc().editorJump()})),s.dc()}if(2&t){var i=s.oc();s.wc("ngModel",i.fullPath)}}var Ut,Bt=((Ut=function(){function t(e){_classCallCheck(this,t),this.toastrService=e,this.jump=new s.r,this.editMode=!1}return _createClass(t,[{key:"editTip",value:function(){t.tipable&&(this.toastrService.default("Edit Mode will be actived after double click.","Breadcurmb",{position:c.B.BOTTOM_END,icon:"bulb",duration:5e3}),t.tipable=!1)}},{key:"editorJump",value:function(){if("string"==typeof this.fullPath)if(""!==this.fullPath){var t=this.fullPath.indexOf(":");t>-1?(this.remote=this.fullPath.substring(0,t),this.path=this.fullPath.substring(t+1),this.path.length>1&&this.path.endsWith("/")&&(this.path=this.path.slice(0,this.path.length-1))):(this.remote=this.fullPath,this.path=""),this.jump.emit({remote:this.remote,path:this.path})}else this.remote&&""!==this.remote&&this.jump.emit({});this.editMode=!this.editMode}},{key:"genAddr",value:function(t){return""===this.pathPrefix.slice(0,t+1).join("/")?{remote:this.remote}:{remote:this.remote,path:this.pathPrefix.slice(0,t+1).join("/")}}},{key:"splitPath",value:function(t){if(!t)return[[],void 0];var e=t.split("/");return[e.slice(0,-1),e[e.length-1]]}},{key:"ngOnInit",value:function(){var t=this;this.nav$.getOutput().subscribe((function(e){var n;t.remote=e[0].remote,n=_slicedToArray(t.splitPath(e[0].path),2),t.pathPrefix=n[0],t.pathSurfix=n[1],t.path=e[0].path,t.fullPath="".concat(t.remote?t.remote+":":"").concat(t.path?t.path:"")}))}}]),t}()).tipable=!0,Ut.\u0275fac=function(t){return new(t||Ut)(s.Yb(c.ib))},Ut.\u0275cmp=s.Sb({type:Ut,selectors:[["app-manager-breadcrumb"]],inputs:{nav$:"nav$"},outputs:{jump:"jump"},decls:2,vars:2,consts:[["class","breadcrumb rng-noselect","style","flex-wrap: nowrap; overflow-x: auto;",3,"click","dblclick",4,"ngIf"],["nbInput","","class","editor","fullWidth","",3,"ngModel","dblclick","ngModelChange","keyup.enter",4,"ngIf"],[1,"breadcrumb","rng-noselect",2,"flex-wrap","nowrap","overflow-x","auto",3,"click","dblclick"],[1,"breadcrumb-item","home"],[3,"click",4,"ngIf"],["icon","home-outline",4,"ngIf"],[3,"ngClass",4,"ngIf"],["class","breadcrumb-item",4,"ngFor","ngForOf"],["class","breadcrumb-item",4,"ngIf"],[3,"click"],["icon","home-outline"],[3,"ngClass"],["style","display: inline-flex;",4,"ngIf"],["icon","google-outline",2,"vertical-align","middle"],[2,"display","inline-flex"],[1,"breadcrumb-item"],[1,"active"],["nbInput","","fullWidth","",1,"editor",3,"ngModel","dblclick","ngModelChange","keyup.enter"]],template:function(t,e){1&t&&(s.Sc(0,Ft,7,5,"ol",0),s.Sc(1,qt,1,1,"input",1)),2&t&&(s.wc("ngIf",!e.editMode),s.Mb(1),s.wc("ngIf",e.editMode))},directives:[i.o,i.n,c.C,i.l,c.F,r.a,r.e,r.h],styles:[".breadcrumb[_ngcontent-%COMP%] {\n\t\t\t\tmargin-bottom: 0;\n\t\t\t\twidth: -webkit-fill-available;\n\t\t\t\twhite-space: nowrap;\n\t\t\t\tcursor: text;\n\t\t\t}\n\t\t\t.editor[_ngcontent-%COMP%] {\n\t\t\t\twidth: -webkit-fill-available;\n\t\t\t\t\n\t\t\t}\n\t\t\tli[_ngcontent-%COMP%] {\n\t\t\t\tdisplay: flow-root;\n\t\t\t}\n\t\t\tli[_ngcontent-%COMP%]    > a[_ngcontent-%COMP%] {\n\t\t\t\tbackground: white;\n\t\t\t\tborder-radius: 1rem;\n\t\t\t\tpadding: 0.1545rem 0.5rem;\n\t\t\t\ttext-decoration: unset;\n\t\t\t}\n\t\t\tli[_ngcontent-%COMP%]    > a[_ngcontent-%COMP%]:hover {\n\t\t\t\tbackground: #274bdb;\n\t\t\t\tcolor: white;\n\t\t\t\tcursor: pointer;\n\t\t\t}\n\t\t\t.active[_ngcontent-%COMP%] {\n\t\t\t\tpadding: 0.1545rem 1rem 0.1545rem 0;\n\t\t\t}\n\t\t\t.home[_ngcontent-%COMP%] {\n\t\t\t\tpadding: 0.1545rem 0.5rem;\n\t\t\t}"]}),Ut),Zt=["MobileRemoteDetail"],Lt=["MobileFileDetail"];function Kt(t,e){if(1&t){var n=s.fc();s.ec(0,"a",21),s.mc("click",(function(){return s.Kc(n),s.oc().toggleDetail()})),s.Zb(1,"nb-icon",22),s.dc()}}function Qt(t,e){if(1&t){var n=s.fc();s.ec(0,"app-manager-home-mode",23),s.mc("jump",(function(t){return s.Kc(n),s.oc().addrJump(t)}))("showDetail",(function(t){return s.Kc(n),s.oc().openRemoteDetail(t)})),s.dc()}if(2&t){var i=s.oc();s.wc("pcDetailView",i.pcDetailView)}}function Yt(t,e){if(1&t){var n=s.fc();s.ec(0,"app-manager-file-mode",24),s.mc("jump",(function(t){return s.Kc(n),s.oc().addrJump(t)}))("showDetail",(function(t){return s.Kc(n),s.oc().openFileDetail(t)})),s.dc()}if(2&t){var i=s.oc();s.wc("pcDetailViewEnable",i.pcDetailViewEnable)("nav$",i.nav$)}}function Ht(t,e){1&t&&s.Zb(0,"app-home-remote-detail")}function Gt(t,e){1&t&&s.Zb(0,"app-file-file-detail")}function Jt(t,e){if(1&t&&(s.ec(0,"nb-sidebar",25),s.Sc(1,Ht,1,0,"app-home-remote-detail",26),s.Sc(2,Gt,1,0,"app-file-file-detail",26),s.dc()),2&t){var n=s.oc();s.Mb(1),s.wc("ngIf",n.homeMode),s.Mb(1),s.wc("ngIf",n.fileMode)}}function Wt(t,e){1&t&&s.Zb(0,"app-home-remote-detail",27),2&t&&s.wc("initNode",e.dialogRef.context.navNode)}function Xt(t,e){1&t&&s.Zb(0,"app-file-file-detail",27),2&t&&s.wc("initNode",e.dialogRef.context.itemNode)}function te(t,e){if(1&t){var n=s.fc();s.ec(0,"nb-action",28),s.mc("click",(function(){return s.Kc(n),s.oc().file.manipulate("copy")})),s.dc()}}function ee(t,e){if(1&t){var n=s.fc();s.ec(0,"nb-action",29),s.mc("click",(function(){return s.Kc(n),s.oc().file.manipulate("move")})),s.dc()}}function ne(t,e){if(1&t){var n=s.fc();s.ec(0,"nb-action",30),s.mc("click",(function(){return s.Kc(n),s.oc().file.manipulate("del")})),s.dc()}}function ie(t,e){if(1&t){var n=s.fc();s.ec(0,"nb-action",31),s.mc("click",(function(){return s.Kc(n),s.oc().paste()})),s.dc()}}function re(t,e){if(1&t){var n=s.fc();s.ec(0,"nb-action",32),s.mc("click",(function(){return s.Kc(n),s.oc().mkdirDialog()})),s.dc()}}function ce(t,e){if(1&t&&s.Zb(0,"nb-badge",33),2&t){var n=s.oc();s.wc("text",n.clipboardSize)}}var oe,ae,se,ue=function(t){return{subcolumn:!0,"subcolumn-right-bar":t}},le=function(t,e){return{mobile:t,pc:e}},fe=[{path:"",component:(oe=function(){function t(e,n,i,r,c,o,a,s){_classCallCheck(this,t),this.toastrService=e,this.clipboard=n,this.resp=i,this.modal=r,this.router=c,this.route=o,this.sidebarService=a,this.tasksQueueService=s,this.homeMode=!1,this.fileMode=!1,this.mainBar=!1,this.navTrigger=new _.a,this.mkdirTrigger=new _.a,this.clipboardSize=0,this.pasteTrigger=new _.a,this.orderCnt=0,this.pcDetailViewEnable=!1,this.pcDetailView=!1,this.visable=!1}return _createClass(t,[{key:"loading",value:function(){this.fileMode?this.file.loading():this.homeMode&&this.home.loading()}},{key:"refresh",value:function(){this.homeMode?this.home.refresh():this.fileMode&&this.file.refresh()}},{key:"addrJump",value:function(t){this.loading(),this.navTrigger.next(t)}},{key:"navDeploy",value:function(){var t=this;this.nav$=new(function(e){_inherits(i,e);var n=_createSuper(i);function i(){var e;return _classCallCheck(this,i),(e=n.apply(this,arguments)).prerequest$=t.navTrigger.pipe(Object(k.a)((function(t,e){return JSON.stringify(t)===JSON.stringify(e)})),Object(C.a)((function(e){var n=e.remote;n&&""===n&&(n=void 0);var i=e.path;return i&&""===i&&(i=void 0),t.homeMode=!n,t.fileMode=!!n,[{remote:n,path:i},[]]}))),e}return i}(I.p)),this.nav$.deploy(),this.navTrigger.next({})}},{key:"mkdirDialog",value:function(){var t=this;this.modal.open(H,Object(y.m)({isBlocking:!1},w.b)).result.then((function(e){e&&""!==e&&t.mkdirTrigger.next(e)}),(function(){}))}},{key:"mkdirDeploy",value:function(){var t=this,e=this;e.mkdirTrigger.pipe(Object(O.a)(e.nav$.getOutput())).subscribe((function(n){var i=_slicedToArray(n,2),r=i[0],c=i[1];if(0!==c[1].length)return c;c[0].path&&(r=[c[0].path,r].join("/")),e.toastrService.default("Creating directory","Waiting..."),t.tasksQueueService.AddTaskMkdir([{remote:c[0].remote,path:r},[]]).then((function(e){0!==e[1].length?t.toastrService.danger("create dir failure"):t.toastrService.success("create dir success")}))}))}},{key:"clipboardDeploy",value:function(){var t=this;this.clipboard.clipboard$.getOutput().subscribe((function(e){0===e[1].length&&(t.clipboardSize=e[0].clipboard.values.length)}))}},{key:"pasteDeploy",value:function(){var t=this;this.pasteTrigger.pipe(Object(O.a)(this.nav$.getOutput())).subscribe((function(e){var n=_slicedToArray(e,2),i=n[0],r=n[1];if(0!==r[1].length)throw Error("can't not get destination.");i.forEach((function(e){t.clipboard.post(r[0],e).then((function(n){0===n[1].length?t.toastrService.success('"'.concat(e,'" tasks sent to server'),"Success",{icon:Object(M.e)(e)}):t.toastrService.danger('"'.concat(e,'" tasks sent to server'),"Failure",{icon:Object(M.e)(e),destroyByClick:!0})}))}))}))}},{key:"paste",value:function(){this.pasteTrigger.next(["copy","move"])}},{key:"clipboardDialog",value:function(){var t=this;this.modal.open(Y,Object(y.m)({isBlocking:!1},w.b)).result.then((function(e){!0===e&&t.pasteTrigger.next(["del"])}),(function(){}))}},{key:"routeDeploy",value:function(){var t=this;this.route.queryParams.pipe(Object(S.a)((function(){return t.visable})),Object(k.a)((function(t,e){return JSON.stringify(t)===JSON.stringify(e)}))).subscribe((function(e){t.navTrigger.next(e)})),this.nav$.getOutput().pipe(Object(S.a)((function(){return t.visable}))).subscribe((function(e){if(0===e[1].length){var n={};e[0].remote&&""!==e[0].remote&&(n.remote=e[0].remote),e[0].path&&""!==e[0].path&&(n.path=e[0].path),t.router.navigate([],{queryParams:n})}}))}},{key:"sidebarDeploy",value:function(){var t=this;this.resp.getResponsiveSize.subscribe((function(e){t.mainBar=!("xs"===e||"sm"===e||"md"===e),t.pcDetailViewEnable="xs"!==e,"xs"===e&&(t.pcDetailView=!1,t.sidebarService.collapse("detail"))}))}},{key:"toggleDetail",value:function(){this.pcDetailView=!this.pcDetailView,this.sidebarService.toggle(!1,"detail")}},{key:"openRemoteDetail",value:function(t){this.pcDetailView&&this.remoteDetail.navNode(t),this.pcDetailViewEnable||this.modal.open(this.remoteDetailMobile,Object(y.m)({isBlocking:!1,navNode:t},w.b))}},{key:"openFileDetail",value:function(t){this.pcDetailView&&this.fileDetail.itemNode(t),this.pcDetailViewEnable||this.modal.open(this.fileDetailMobile,Object(y.m)({isBlocking:!1,itemNode:t},w.b))}},{key:"ngOnInit",value:function(){this.visable=!0,this.sidebarDeploy(),this.navDeploy(),this.routeDeploy(),this.mkdirDeploy(),this.clipboardDeploy(),this.pasteDeploy()}},{key:"ngOnDestroy",value:function(){this.visable=!1}}]),t}(),oe.\u0275fac=function(t){return new(t||oe)(s.Yb(c.ib),s.Yb(V),s.Yb(v.c),s.Yb(w.a),s.Yb(g.c),s.Yb(g.a),s.Yb(c.Z),s.Yb(N))},oe.\u0275cmp=s.Sb({type:oe,selectors:[["app-manager"]],viewQuery:function(t,e){var n;1&t&&(s.Zc(bt,!0),s.Zc(St,!0),s.Zc(Tt,!0),s.Zc(Zt,!0),s.Zc(ot,!0),s.Zc(Lt,!0)),2&t&&(s.Fc(n=s.nc())&&(e.file=n.first),s.Fc(n=s.nc())&&(e.home=n.first),s.Fc(n=s.nc())&&(e.remoteDetail=n.first),s.Fc(n=s.nc())&&(e.remoteDetailMobile=n.first),s.Fc(n=s.nc())&&(e.fileDetail=n.first),s.Fc(n=s.nc())&&(e.fileDetailMobile=n.first))},decls:27,vars:18,consts:[["subheader",""],[3,"nav$","jump"],[1,"push-to-right","option",3,"click"],["icon","refresh"],[1,"option"],["icon","list"],["class","option",3,"click",4,"ngIf"],[3,"ngClass"],[3,"pcDetailView","jump","showDetail",4,"ngIf"],[3,"pcDetailViewEnable","nav$","jump","showDetail",4,"ngIf"],["fixed","","end","","class","right-bar","tag","detail","state","collapsed",4,"ngIf"],["MobileRemoteDetail",""],["MobileFileDetail",""],["icon","copy",3,"click",4,"ngIf"],["icon","move",3,"click",4,"ngIf"],["icon","trash-2",3,"click",4,"ngIf"],["icon","clipboard",3,"click",4,"ngIf"],["icon","folder-add",3,"click",4,"ngIf"],[1,"push-to-right",2,"padding-right","1.5rem","padding-left","0.5rem",3,"click"],["icon","inbox",2,"font-size","1.5rem"],["status","info","position","top end",3,"text",4,"ngIf"],[1,"option",3,"click"],["icon","info"],[3,"pcDetailView","jump","showDetail"],[3,"pcDetailViewEnable","nav$","jump","showDetail"],["fixed","","end","","tag","detail","state","collapsed",1,"right-bar"],[4,"ngIf"],[3,"initNode"],["icon","copy",3,"click"],["icon","move",3,"click"],["icon","trash-2",3,"click"],["icon","clipboard",3,"click"],["icon","folder-add",3,"click"],["status","info","position","top end",3,"text"]],template:function(t,e){1&t&&(s.ec(0,"nb-layout-header",0),s.ec(1,"app-manager-breadcrumb",1),s.mc("jump",(function(t){return e.addrJump(t)})),s.dc(),s.ec(2,"a",2),s.mc("click",(function(){return e.refresh()})),s.Zb(3,"nb-icon",3),s.dc(),s.ec(4,"a",4),s.Zb(5,"nb-icon",5),s.dc(),s.Sc(6,Kt,2,0,"a",6),s.dc(),s.ec(7,"div",7),s.ec(8,"nb-card"),s.ec(9,"nb-card-body"),s.Sc(10,Qt,1,1,"app-manager-home-mode",8),s.Sc(11,Yt,1,2,"app-manager-file-mode",9),s.dc(),s.dc(),s.dc(),s.Sc(12,Jt,3,2,"nb-sidebar",10),s.Sc(13,Wt,1,1,"ng-template",null,11,s.Tc),s.Sc(15,Xt,1,1,"ng-template",null,12,s.Tc),s.ec(17,"nb-layout-footer",7),s.ec(18,"nb-actions"),s.Sc(19,te,1,0,"nb-action",13),s.Sc(20,ee,1,0,"nb-action",14),s.Sc(21,ne,1,0,"nb-action",15),s.Sc(22,ie,1,0,"nb-action",16),s.Sc(23,re,1,0,"nb-action",17),s.ec(24,"nb-action",18),s.mc("click",(function(){return e.clipboardDialog()})),s.Zb(25,"nb-icon",19),s.Sc(26,ce,1,1,"nb-badge",20),s.dc(),s.dc(),s.dc()),2&t&&(s.Mb(1),s.wc("nav$",e.nav$),s.Mb(5),s.wc("ngIf",e.pcDetailViewEnable),s.Mb(1),s.wc("ngClass",s.Ac(13,ue,e.pcDetailView)),s.Mb(3),s.wc("ngIf",e.homeMode),s.Mb(1),s.wc("ngIf",e.fileMode),s.Mb(1),s.wc("ngIf",e.pcDetailViewEnable),s.Mb(5),s.wc("ngClass",s.Bc(15,le,!e.mainBar,e.mainBar)),s.Mb(2),s.wc("ngIf",e.fileMode),s.Mb(1),s.wc("ngIf",e.fileMode),s.Mb(1),s.wc("ngIf",e.fileMode),s.Mb(1),s.wc("ngIf",e.fileMode),s.Mb(1),s.wc("ngIf",e.fileMode),s.Mb(3),s.wc("ngIf",e.clipboardSize))},directives:[c.K,Bt,c.C,i.o,i.l,c.r,c.q,c.J,c.g,c.f,St,bt,c.X,Tt,ot,c.l],styles:["nb-layout-header[_ngcontent-%COMP%] {\n\t\t\t\tposition: sticky;\n\t\t\t\ttop: 4.75rem;\n\t\t\t\tz-index: 700;\n\t\t\t}\n\t\t\tapp-manager-breadcrumb[_ngcontent-%COMP%] {\n\t\t\t\tdisplay: contents;\n\t\t\t}\n\t\t\t.option[_ngcontent-%COMP%] {\n\t\t\t\tpadding: 0 0.3rem;\n\t\t\t}\n\t\t\t.right-bar[_ngcontent-%COMP%] {\n\t\t\t\ttop: calc(4.75rem * 2 + 0.05rem) !important;\n\t\t\t\tbottom: 65px !important;\n\t\t\t\theight: auto;\n\t\t\t\tz-index: 699;\n\t\t\t}\n\t\t\t[_nghost-%COMP%]   nb-sidebar[_ngcontent-%COMP%]     .main-container {\n\t\t\t\theight: auto !important;\n\t\t\t\ttop: calc(4.75rem * 2 + 0.05rem) !important;\n\t\t\t\tbottom: 65px !important;\n\t\t\t}\n\t\t\t[_nghost-%COMP%]   nb-sidebar[_ngcontent-%COMP%]     .scrollable {\n\t\t\t\tpadding: 1.25rem 0 !important;\n\t\t\t}\n\t\t\t.subcolumn[_ngcontent-%COMP%] {\n\t\t\t\tmargin-bottom: 4.75rem;\n\t\t\t\tmargin-top: 1.5rem;\n\t\t\t}\n\t\t\t.subcolumn-right-bar[_ngcontent-%COMP%] {\n\t\t\t\tmargin-right: 16rem;\n\t\t\t}\n\t\t\t\n\t\t\tnb-layout-footer[_ngcontent-%COMP%] {\n\t\t\t\tz-index: 998;\n\t\t\t\tposition: fixed;\n\t\t\t\tbottom: 0;\n\t\t\t}\n\t\t\tnb-layout-footer.mobile[_ngcontent-%COMP%] {\n\t\t\t\twidth: 100%;\n\t\t\t}\n\t\t\tnb-layout-footer.pc[_ngcontent-%COMP%] {\n\t\t\t\twidth: calc(100% - 16rem);\n\t\t\t}\n\t\t\tnb-layout-footer[_ngcontent-%COMP%]     nav {\n\t\t\t\toverflow-x: auto;\n\t\t\t}\n\t\t\tnb-actions[_ngcontent-%COMP%] {\n\t\t\t\twidth: 100%;\n\t\t\t}\n\t\t\t.push-to-right[_ngcontent-%COMP%] {\n\t\t\t\tmargin-left: auto;\n\t\t\t\t\n\t\t\t}\n\t\t\t.subcolumn[_ngcontent-%COMP%]    > nb-card[_ngcontent-%COMP%] {\n\t\t\t\tmargin: 0 1.25rem;\n\t\t\t}"]}),oe)}],de=((se=function t(){_classCallCheck(this,t)}).\u0275mod=s.Wb({type:se}),se.\u0275inj=s.Vb({factory:function(t){return new(t||se)},imports:[[g.g.forChild(fe)],g.g]}),se),pe=((ae=function t(){_classCallCheck(this,t)}).\u0275mod=s.Wb({type:ae}),ae.\u0275inj=s.Vb({factory:function(t){return new(t||ae)},imports:[[i.c,de,c.h,c.v,c.E,c.U,a.d,c.L,c.Y,c.x,c.o,c.G,c.kb,c.m,c.fb,c.e,c.bb,c.O,o.b,b,m.a,r.b,v.b]]}),ae)},Iab2:function(t,e,n){var i,r;void 0===(r="function"==typeof(i=function(){"use strict";function e(t,e,n){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){c(i.response,e,n)},i.onerror=function(){console.error("could not download file")},i.send()}function n(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function i(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(e){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(n)}}var r="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,c=r.saveAs||("object"!=typeof window||window!==r?function(){}:"download"in HTMLAnchorElement.prototype?function(t,c,o){var a=r.URL||r.webkitURL,s=document.createElement("a");s.download=c=c||t.name||"download",s.rel="noopener","string"==typeof t?(s.href=t,s.origin===location.origin?i(s):n(s.href)?e(t,c,o):i(s,s.target="_blank")):(s.href=a.createObjectURL(t),setTimeout((function(){a.revokeObjectURL(s.href)}),4e4),setTimeout((function(){i(s)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,r,c){if(r=r||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,c),r);else if(n(t))e(t,r,c);else{var o=document.createElement("a");o.href=t,o.target="_blank",setTimeout((function(){i(o)}))}}:function(t,n,i,c){if((c=c||open("","_blank"))&&(c.document.title=c.document.body.innerText="downloading..."),"string"==typeof t)return e(t,n,i);var o="application/octet-stream"===t.type,a=/constructor/i.test(r.HTMLElement)||r.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||o&&a)&&"object"==typeof FileReader){var u=new FileReader;u.onloadend=function(){var t=u.result;t=s?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),c?c.location.href=t:location=t,c=null},u.readAsDataURL(t)}else{var l=r.URL||r.webkitURL,f=l.createObjectURL(t);c?c.location=f:location.href=f,c=null,setTimeout((function(){l.revokeObjectURL(f)}),4e4)}});r.saveAs=c.saveAs=c,t.exports=c})?i.apply(e,[]):i)||(t.exports=r)},Q5J2:function(t,e,n){"use strict";var i=n("WADQ"),r=function(t){_inherits(n,_wrapNativeSuper(Error));var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this,t)).name="TimeoutError",i}return n}(),c=function(t,e,n){return new Promise((function(c,o){if("number"!=typeof e||e<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(e!==1/0){var a=setTimeout((function(){if("function"!=typeof n){var i=n instanceof Error?n:new r("string"==typeof n?n:"Promise timed out after ".concat(e," milliseconds"));"function"==typeof t.cancel&&t.cancel(),o(i)}else try{c(n())}catch(a){o(a)}}),e);i(t.then(c,o),(function(){clearTimeout(a)}))}else c(t)}))};t.exports=c,t.exports.default=c,t.exports.TimeoutError=r},TDd8:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("tEK5");e.default=function(){function t(){_classCallCheck(this,t),Object.defineProperty(this,"_queue",{enumerable:!0,configurable:!0,writable:!0,value:[]})}return _createClass(t,[{key:"enqueue",value:function(t,e){var n={priority:(e=Object.assign({priority:0},e)).priority,run:t};if(this.size&&this._queue[this.size-1].priority>=e.priority)this._queue.push(n);else{var r=i.default(this._queue,n,(function(t,e){return e.priority-t.priority}));this._queue.splice(r,0,n)}}},{key:"dequeue",value:function(){var t=this._queue.shift();return null==t?void 0:t.run}},{key:"filter",value:function(t){return this._queue.filter((function(e){return e.priority===t.priority})).map((function(t){return t.run}))}},{key:"size",get:function(){return this._queue.length}}]),t}()},WADQ:function(t,e,n){"use strict";t.exports=function(t,e){return e=e||function(){},t.then((function(t){return new Promise((function(t){t(e())})).then((function(){return t}))}),(function(t){return new Promise((function(t){t(e())})).then((function(){throw t}))}))}},mH7l:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("uhBA"),r=n("Q5J2"),c=n("TDd8"),o=function(){},a=new r.TimeoutError;e.default=function(t){_inherits(l,t);var e,n,i,s,u=_createSuper(l);function l(t){var e,n,i,r,a;if(_classCallCheck(this,l),e=u.call(this),Object.defineProperty(_assertThisInitialized(e),"_carryoverConcurrencyCount",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(_assertThisInitialized(e),"_isIntervalIgnored",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(_assertThisInitialized(e),"_intervalCount",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(_assertThisInitialized(e),"_intervalCap",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(_assertThisInitialized(e),"_interval",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(_assertThisInitialized(e),"_intervalEnd",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(_assertThisInitialized(e),"_intervalId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(_assertThisInitialized(e),"_timeoutId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(_assertThisInitialized(e),"_queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(_assertThisInitialized(e),"_queueClass",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(_assertThisInitialized(e),"_pendingCount",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(_assertThisInitialized(e),"_concurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(_assertThisInitialized(e),"_isPaused",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(_assertThisInitialized(e),"_resolveEmpty",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(_assertThisInitialized(e),"_resolveIdle",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(_assertThisInitialized(e),"_timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(_assertThisInitialized(e),"_throwOnTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!("number"==typeof(t=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:c.default},t)).intervalCap&&t.intervalCap>=1))throw new TypeError("Expected `intervalCap` to be a number from 1 and up, got `".concat(null!==(i=null===(n=t.intervalCap)||void 0===n?void 0:n.toString())&&void 0!==i?i:"","` (").concat(typeof t.intervalCap,")"));if(void 0===t.interval||!(Number.isFinite(t.interval)&&t.interval>=0))throw new TypeError("Expected `interval` to be a finite number >= 0, got `".concat(null!==(a=null===(r=t.interval)||void 0===r?void 0:r.toString())&&void 0!==a?a:"","` (").concat(typeof t.interval,")"));return e._carryoverConcurrencyCount=t.carryoverConcurrencyCount,e._isIntervalIgnored=t.intervalCap===1/0||0===t.interval,e._intervalCap=t.intervalCap,e._interval=t.interval,e._queue=new t.queueClass,e._queueClass=t.queueClass,e.concurrency=t.concurrency,e._timeout=t.timeout,e._throwOnTimeout=!0===t.throwOnTimeout,e._isPaused=!1===t.autoStart,_possibleConstructorReturn(e)}return _createClass(l,[{key:"_next",value:function(){this._pendingCount--,this._tryToStartAnother()}},{key:"_resolvePromises",value:function(){this._resolveEmpty(),this._resolveEmpty=o,0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=o,this.emit("idle"))}},{key:"_onResumeInterval",value:function(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}},{key:"_isIntervalPaused",value:function(){var t=this,e=Date.now();if(void 0===this._intervalId){var n=this._intervalEnd-e;if(!(n<0))return void 0===this._timeoutId&&(this._timeoutId=setTimeout((function(){t._onResumeInterval()}),n)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}},{key:"_tryToStartAnother",value:function(){if(0===this._queue.size)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){var t=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother)return this.emit("active"),this._queue.dequeue()(),t&&this._initializeIntervalIfNeeded(),!0}return!1}},{key:"_initializeIntervalIfNeeded",value:function(){var t=this;this._isIntervalIgnored||void 0!==this._intervalId||(this._intervalId=setInterval((function(){t._onInterval()}),this._interval),this._intervalEnd=Date.now()+this._interval)}},{key:"_onInterval",value:function(){0===this._intervalCount&&0===this._pendingCount&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}},{key:"_processQueue",value:function(){for(;this._tryToStartAnother(););}},{key:"add",value:(s=_asyncToGenerator(regeneratorRuntime.mark((function t(e){var n,i=this,c=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:{},t.abrupt("return",new Promise((function(t,c){i._queue.enqueue(_asyncToGenerator(regeneratorRuntime.mark((function o(){var s;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return i._pendingCount++,i._intervalCount++,o.prev=1,s=void 0===i._timeout&&void 0===n.timeout?e():r.default(Promise.resolve(e()),void 0===n.timeout?i._timeout:n.timeout,(function(){(void 0===n.throwOnTimeout?i._throwOnTimeout:n.throwOnTimeout)&&c(a)})),o.t0=t,o.next=6,s;case 6:o.t1=o.sent,(0,o.t0)(o.t1),o.next=13;break;case 10:o.prev=10,o.t2=o.catch(1),c(o.t2);case 13:i._next();case 14:case"end":return o.stop()}}),o,null,[[1,10]])}))),n),i._tryToStartAnother()})));case 2:case"end":return t.stop()}}),t)}))),function(t){return s.apply(this,arguments)})},{key:"addAll",value:(i=_asyncToGenerator(regeneratorRuntime.mark((function t(e,n){var i=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.all(e.map(function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.add(e,n));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())));case 1:case"end":return t.stop()}}),t)}))),function(t,e){return i.apply(this,arguments)})},{key:"start",value:function(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}},{key:"pause",value:function(){this._isPaused=!0}},{key:"clear",value:function(){this._queue=new this._queueClass}},{key:"onEmpty",value:(n=_asyncToGenerator(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0===this._queue.size){t.next=2;break}return t.abrupt("return",new Promise((function(t){var n=e._resolveEmpty;e._resolveEmpty=function(){n(),t()}})));case 2:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"onIdle",value:(e=_asyncToGenerator(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0===this._pendingCount&&0===this._queue.size){t.next=2;break}return t.abrupt("return",new Promise((function(t){var n=e._resolveIdle;e._resolveIdle=function(){n(),t()}})));case 2:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"sizeBy",value:function(t){return this._queue.filter(t).length}},{key:"_doesIntervalAllowAnother",get:function(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}},{key:"_doesConcurrentAllowAnother",get:function(){return this._pendingCount<this._concurrency}},{key:"concurrency",get:function(){return this._concurrency},set:function(t){if(!("number"==typeof t&&t>=1))throw new TypeError("Expected `concurrency` to be a number from 1 and up, got `".concat(t,"` (").concat(typeof t,")"));this._concurrency=t,this._processQueue()}},{key:"size",get:function(){return this._queue.size}},{key:"pending",get:function(){return this._pendingCount}},{key:"isPaused",get:function(){return this._isPaused}},{key:"timeout",get:function(){return this._timeout},set:function(t){this._timeout=t}}]),l}(i)},mrSG:function(t,e,n){"use strict";function i(t,e,n,i){return new(n||(n=Promise))((function(r,c){function o(t){try{s(i.next(t))}catch(e){c(e)}}function a(t){try{s(i.throw(t))}catch(e){c(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}s((i=i.apply(t,e||[])).next())}))}n.d(e,"a",(function(){return i}))},tEK5:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){for(var i=0,r=t.length;r>0;){var c=r/2|0,o=i+c;n(t[o],e)<=0?(i=++o,r-=c+1):r=c}return i}},uhBA:function(t,e,n){"use strict";var i=Object.prototype.hasOwnProperty,r="~";function c(){}function o(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function a(t,e,n,i,c){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new o(n,i||t,c),s=r?r+e:e;return t._events[s]?t._events[s].fn?t._events[s]=[t._events[s],a]:t._events[s].push(a):(t._events[s]=a,t._eventsCount++),t}function s(t,e){0==--t._eventsCount?t._events=new c:delete t._events[e]}function u(){this._events=new c,this._eventsCount=0}Object.create&&(c.prototype=Object.create(null),(new c).__proto__||(r=!1)),u.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)i.call(t,e)&&n.push(r?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},u.prototype.listeners=function(t){var e=this._events[r?r+t:t];if(!e)return[];if(e.fn)return[e.fn];for(var n=0,i=e.length,c=new Array(i);n<i;n++)c[n]=e[n].fn;return c},u.prototype.listenerCount=function(t){var e=this._events[r?r+t:t];return e?e.fn?1:e.length:0},u.prototype.emit=function(t,e,n,i,c,o){var a=r?r+t:t;if(!this._events[a])return!1;var s,u,l=this._events[a],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,n),!0;case 4:return l.fn.call(l.context,e,n,i),!0;case 5:return l.fn.call(l.context,e,n,i,c),!0;case 6:return l.fn.call(l.context,e,n,i,c,o),!0}for(u=1,s=new Array(f-1);u<f;u++)s[u-1]=arguments[u];l.fn.apply(l.context,s)}else{var d,p=l.length;for(u=0;u<p;u++)switch(l[u].once&&this.removeListener(t,l[u].fn,void 0,!0),f){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,e);break;case 3:l[u].fn.call(l[u].context,e,n);break;case 4:l[u].fn.call(l[u].context,e,n,i);break;default:if(!s)for(d=1,s=new Array(f-1);d<f;d++)s[d-1]=arguments[d];l[u].fn.apply(l[u].context,s)}}return!0},u.prototype.on=function(t,e,n){return a(this,t,e,n,!1)},u.prototype.once=function(t,e,n){return a(this,t,e,n,!0)},u.prototype.removeListener=function(t,e,n,i){var c=r?r+t:t;if(!this._events[c])return this;if(!e)return s(this,c),this;var o=this._events[c];if(o.fn)o.fn!==e||i&&!o.once||n&&o.context!==n||s(this,c);else{for(var a=0,u=[],l=o.length;a<l;a++)(o[a].fn!==e||i&&!o[a].once||n&&o[a].context!==n)&&u.push(o[a]);u.length?this._events[c]=1===u.length?u[0]:u:s(this,c)}return this},u.prototype.removeAllListeners=function(t){var e;return t?this._events[e=r?r+t:t]&&s(this,e):(this._events=new c,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,t.exports=u}}]);